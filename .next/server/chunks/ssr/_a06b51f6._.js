module.exports=[3130,a=>{"use strict";var b=a.i(87924),c=a.i(97895);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardHeader",()=>e,"CardTitle",()=>f])},20731,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(40695),f=a.i(3130);let g=(0,a.i(70106).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var h=a.i(4720),i=a.i(90669),j=a.i(38246),k=a.i(53046);let l=process.env.NEXT_PUBLIC_API_URL||"https://b22slwwqfmushdcf7t4cnkxt240xknbz.lambda-url.eu-north-1.on.aws";function m(){let a=(0,d.useRouter)(),[m,n]=(0,c.useState)(null),[o,p]=(0,c.useState)(!0),[q,r]=(0,c.useState)([]),s=(0,c.useRef)(null);(0,c.useEffect)(()=>{(async()=>{try{let b=localStorage.getItem("token"),c=await fetch(`${l}/profile/getuser`,{method:"GET",headers:{Authorization:`Bearer ${b}`,"Content-Type":"application/json"}});if(!c.ok)return void a.push("/");let d=await c.json();n(d.user);let e=await fetch(`${l}/report/myreports`,{method:"GET",headers:{Authorization:`Bearer ${b}`,"Content-Type":"application/json"}});if(console.log(e),e.ok){let a=await e.json();console.log(a.reports[0],"ii"),r(a.reports||[])}}catch(b){console.error(b),a.push("/")}finally{p(!1)}})()},[a]);let t=()=>{s.current?.click()},u=async a=>{let b=a.target.files?.[0];if(!b)return k.default.fire("Error","No file selected","error");if(!["application/pdf","image/png","image/jpeg"].includes(b.type))return k.default.fire("Error","Only PDF, PNG, JPG allowed!","error");let c=new FormData;c.append("file",b);try{let a=localStorage.getItem("token"),b=await fetch(`${l}/report/upload`,{method:"POST",headers:{Authorization:`Bearer ${a}`},body:c}),d=await b.json();if(!b.ok)throw Error(d.error||d.message||"Upload failed");k.default.fire("Success","Report uploaded successfully!","success"),r(a=>[d.report,...a])}catch(a){console.error(a),k.default.fire("Error",a.message||"Error uploading file","error")}};return o?(0,b.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:"Loading..."}):(0,b.jsx)("div",{className:"min-h-screen bg-gray-50/50",children:(0,b.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,b.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h1",{className:"text-3xl font-bold tracking-tight text-gray-900",children:["Welcome back, ",m?.firstname?m.firstname:"User"]}),(0,b.jsx)("p",{className:"text-muted-foreground mt-1 text-lg",children:"Here's an overview of your health insights today."})]}),(0,b.jsxs)(e.Button,{onClick:t,className:"shadow-lg hover:shadow-xl transition-all duration-300 bg-black text-white px-6 py-6 text-md rounded-full",children:[(0,b.jsx)(g,{className:"w-5 h-5 mr-2"})," Upload New Report"]}),(0,b.jsx)("input",{ref:s,type:"file",accept:".pdf,.png,.jpg,.jpeg",className:"hidden",onChange:u})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-12",children:[(0,b.jsxs)(f.Card,{className:"group cursor-pointer border-none shadow-md hover:shadow-xl transition-all duration-300 bg-white overflow-hidden relative",onClick:t,children:[(0,b.jsx)("div",{className:"absolute top-0 left-0 w-1 h-full bg-blue-500 group-hover:h-full transition-all duration-300"}),(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsxs)(f.CardTitle,{className:"flex items-center gap-3 text-xl",children:[(0,b.jsx)("div",{className:"p-3 bg-blue-50 rounded-lg group-hover:bg-blue-100 transition-colors",children:(0,b.jsx)(h.FileText,{className:"w-6 h-6 text-blue-600"})}),"Detailed Analysis"]}),(0,b.jsx)(f.CardDescription,{className:"text-base pt-2",children:"Upload your medical reports (PDF/Image) to get instant AI-powered summaries and insights in English & Urdu."})]})]}),(0,b.jsxs)(f.Card,{className:"group cursor-pointer border-none shadow-md hover:shadow-xl transition-all duration-300 bg-white overflow-hidden relative",children:[(0,b.jsx)("div",{className:"absolute top-0 left-0 w-1 h-full bg-emerald-500 group-hover:h-full transition-all duration-300"}),(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsxs)(f.CardTitle,{className:"flex items-center gap-3 text-xl",children:[(0,b.jsx)("div",{className:"p-3 bg-emerald-50 rounded-lg group-hover:bg-emerald-100 transition-colors",children:(0,b.jsx)(i.Activity,{className:"w-6 h-6 text-emerald-600"})}),"Track Vitals"]}),(0,b.jsx)(f.CardDescription,{className:"text-base pt-2",children:"Monitor your vital signs like Blood Pressure, Sugar levels, and BMI over time. (Coming Soon)"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-between",children:(0,b.jsx)("h2",{className:"text-2xl font-semibold text-gray-900",children:"Recent Reports"})}),(0,b.jsx)(f.Card,{className:"border-none shadow-sm bg-white",children:(0,b.jsx)(f.CardContent,{className:"p-6",children:0===q.length?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[(0,b.jsx)("div",{className:"bg-gray-50 p-4 rounded-full mb-4",children:(0,b.jsx)(h.FileText,{className:"w-8 h-8 text-gray-400"})}),(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"No reports found"}),(0,b.jsx)("p",{className:"text-gray-500 mt-1 max-w-sm mx-auto",children:"Start via uploading your first medical report to see the magic happen."}),(0,b.jsx)(e.Button,{variant:"outline",onClick:t,className:"mt-6",children:"Upload First Report"})]}):(0,b.jsx)("div",{className:"grid gap-4",children:q.map(a=>(0,b.jsxs)("div",{className:"group flex flex-col md:flex-row items-start md:items-center justify-between p-4 rounded-xl border border-gray-100 hover:border-gray-200 hover:shadow-md transition-all duration-200 bg-gray-50/50 hover:bg-white",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 mb-4 md:mb-0",children:[(0,b.jsx)("div",{className:"p-3 bg-white rounded-lg border border-gray-100 shadow-sm",children:(0,b.jsx)(h.FileText,{className:"w-6 h-6 text-blue-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-semibold text-gray-900 group-hover:text-blue-600 transition-colors",children:a.filename}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Uploaded recently"})]})]}),(0,b.jsx)("div",{className:"flex w-full md:w-auto gap-3",children:(0,b.jsx)(j.default,{href:`/dashboard/report-page/${a._id}`,className:"w-full md:w-auto",children:(0,b.jsx)(e.Button,{variant:"secondary",className:"w-full md:w-auto bg-white hover:bg-gray-50 border border-gray-200",children:"View Analysis"})})})]},a._id))})})})]})]})})}a.s(["default",()=>m],20731)}];

//# sourceMappingURL=_a06b51f6._.js.map