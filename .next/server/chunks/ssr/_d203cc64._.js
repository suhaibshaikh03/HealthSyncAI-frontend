module.exports=[3130,a=>{"use strict";var b=a.i(87924),c=a.i(97895);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardHeader",()=>e,"CardTitle",()=>f])},81560,a=>{"use strict";let b=(0,a.i(70106).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);a.s(["Trash2",()=>b],81560)},70165,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(3130),f=a.i(40695),g=a.i(4720),h=a.i(70106);let i=(0,h.default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),j=(0,h.default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var k=a.i(81560);let l=(0,h.default)("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var m=a.i(38246),n=a.i(53046);let o=process.env.NEXT_PUBLIC_API_URL||"https://b22slwwqfmushdcf7t4cnkxt240xknbz.lambda-url.eu-north-1.on.aws";a.s(["default",0,()=>{let a=(0,d.useParams)(),h=(0,d.useRouter)(),[p,q]=(0,c.useState)(null),[r,s]=(0,c.useState)(!0),[t,u]=(0,c.useState)("");(0,c.useEffect)(()=>{let b=async()=>{try{let b=localStorage.getItem("token"),c=await fetch(`${o}/report/${a.id}`,{headers:{Authorization:`Bearer ${b}`,"Content-Type":"application/json"}});if(!c.ok){let a=await c.json().catch(()=>({}));throw Error(a.message||`Error ${c.status}: Failed to fetch report`)}let d=await c.json();q(d.report)}catch(a){console.error(a),u(a.message||"Error loading report")}finally{s(!1)}};a.id&&b()},[a.id]);let v=async()=>{if((await n.default.fire({title:"Are you sure?",text:"This will permanently delete this report!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"})).isConfirmed)try{let b=localStorage.getItem("token");if(!(await fetch(`${o}/report/${a.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${b}`,"Content-Type":"application/json"}})).ok)throw Error("Failed to delete report");n.default.fire("Deleted!","Your report has been deleted.","success"),h.push("/dashboard")}catch(a){n.default.fire("Error",a.message||"Error deleting report","error")}};return r?(0,b.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,b.jsx)("p",{className:"text-muted-foreground",children:"Loading report..."})}):t||!p?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen gap-4",children:[(0,b.jsx)("p",{className:"text-destructive",children:t||"Report not found"}),(0,b.jsx)(m.default,{href:"/dashboard",children:(0,b.jsxs)(f.Button,{variant:"outline",children:[(0,b.jsx)(j,{className:"w-4 h-4 mr-2"})," Back to Dashboard"]})})]}):(0,b.jsx)("div",{className:"min-h-screen bg-gray-50/50 pb-20",children:(0,b.jsxs)("main",{className:"max-w-4xl mx-auto px-4 py-8",children:[(0,b.jsx)("div",{className:"mb-8",children:(0,b.jsx)(m.default,{href:"/dashboard",children:(0,b.jsxs)(f.Button,{variant:"ghost",className:"pl-0 hover:bg-transparent hover:text-blue-600 transition-colors text-muted-foreground",children:[(0,b.jsx)(j,{className:"w-4 h-4 mr-2"})," Back to Dashboard"]})})}),(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)(e.Card,{className:"border-none shadow-lg bg-white overflow-hidden",children:[(0,b.jsx)("div",{className:"h-2 w-full bg-blue-600"}),(0,b.jsx)(e.CardHeader,{className:"pt-8 pb-4",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)(e.CardTitle,{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[(0,b.jsx)(g.FileText,{className:"w-6 h-6 text-blue-600"}),p.title||p.filename]}),(0,b.jsxs)(e.CardDescription,{className:"mt-2 text-base",children:["Uploaded on ",new Date(p.createdAt).toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"})]})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("a",{href:p.fileUrl,target:"_blank",rel:"noreferrer",children:(0,b.jsxs)(f.Button,{variant:"outline",className:"border-gray-200",children:[(0,b.jsx)(i,{className:"w-4 h-4 mr-2"})," Original File"]})}),(0,b.jsxs)(f.Button,{variant:"destructive",onClick:v,className:"bg-red-50 text-red-600 hover:bg-red-100 hover:text-red-700 border-none shadow-none",children:[(0,b.jsx)(k.Trash2,{className:"w-4 h-4 mr-2"})," Delete"]})]})]})})]}),(0,b.jsxs)("div",{className:"grid gap-8 md:grid-cols-[2fr,1fr]",children:[(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("section",{children:[(0,b.jsxs)("h3",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-1.5 h-6 bg-blue-600 rounded-full"}),"Executive Summary"]}),(0,b.jsx)(e.Card,{className:"border-none shadow-sm bg-white",children:(0,b.jsx)(e.CardContent,{className:"p-6 text-lg leading-relaxed text-gray-700",children:p.summary||"No summary available."})})]}),(0,b.jsxs)("section",{children:[(0,b.jsxs)("h3",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-1.5 h-6 bg-emerald-600 rounded-full"}),"Detailed Explanation"]}),(0,b.jsx)(e.Card,{className:"border-none shadow-sm bg-white",children:(0,b.jsxs)(e.CardContent,{className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-medium text-gray-900 mb-2 text-sm uppercase tracking-wider text-muted-foreground",children:"English"}),(0,b.jsx)("p",{className:"text-gray-700 leading-relaxed",children:p.explanation_en||"No explanation available."})]}),p.explanation_ro&&(0,b.jsxs)("div",{className:"pt-6 border-t border-gray-100",children:[(0,b.jsx)("h4",{className:"font-medium text-gray-900 mb-2 text-sm uppercase tracking-wider text-muted-foreground",children:"Roman Urdu"}),(0,b.jsxs)("p",{className:"text-gray-700 leading-relaxed font-medium italic",children:['"',p.explanation_ro,'"']})]})]})})]})]}),(0,b.jsx)("div",{className:"space-y-6",children:(0,b.jsxs)(e.Card,{className:"border-none shadow-md bg-white sticky top-8",children:[(0,b.jsxs)(e.CardHeader,{className:"bg-blue-50/50 pb-4 border-b border-blue-100",children:[(0,b.jsxs)(e.CardTitle,{className:"text-lg text-blue-900 flex items-center gap-2",children:[(0,b.jsx)(l,{className:"w-5 h-5"}),"Doctor Questions"]}),(0,b.jsx)(e.CardDescription,{className:"text-blue-700/80",children:"Ask these at your next visit"})]}),(0,b.jsx)(e.CardContent,{className:"p-0",children:p.suggested_questions&&p.suggested_questions.length>0?(0,b.jsx)("ul",{className:"divide-y divide-gray-100",children:p.suggested_questions.map((a,c)=>(0,b.jsx)("li",{className:"p-4 hover:bg-gray-50 transition-colors text-sm text-gray-700 leading-snug",children:a},c))}):(0,b.jsx)("div",{className:"p-6 text-center text-muted-foreground text-sm",children:"No specific questions generated."})})]})})]})]})]})})}],70165)}];

//# sourceMappingURL=_d203cc64._.js.map