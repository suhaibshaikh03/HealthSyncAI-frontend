(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,70065,e=>{"use strict";var t=e.i(43476),a=e.i(47163);function s({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...s})}function r({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...s})}function l({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",e),...s})}function d({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",e),...s})}function i({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",e),...s})}e.s(["Card",()=>s,"CardContent",()=>i,"CardDescription",()=>d,"CardHeader",()=>r,"CardTitle",()=>l])},27612,e=>{"use strict";let t=(0,e.i(75254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>t],27612)},67824,e=>{"use strict";var t=e.i(47167),a=e.i(43476),s=e.i(71645),r=e.i(18566),l=e.i(70065),d=e.i(67881),i=e.i(78583),n=e.i(75254);let o=(0,n.default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),c=(0,n.default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var h=e.i(27612);let m=(0,n.default)("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var x=e.i(22016),u=e.i(38325);let g=t.default.env.NEXT_PUBLIC_API_URL||"https://b22slwwqfmushdcf7t4cnkxt240xknbz.lambda-url.eu-north-1.on.aws";e.s(["default",0,()=>{let e=(0,r.useParams)(),t=(0,r.useRouter)(),[n,p]=(0,s.useState)(null),[f,j]=(0,s.useState)(!0),[b,y]=(0,s.useState)("");(0,s.useEffect)(()=>{let t=async()=>{try{let t=localStorage.getItem("token"),a=await fetch(`${g}/report/${e.id}`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!a.ok){let e=await a.json().catch(()=>({}));throw Error(e.message||`Error ${a.status}: Failed to fetch report`)}let s=await a.json();p(s.report)}catch(e){console.error(e),y(e.message||"Error loading report")}finally{j(!1)}};e.id&&t()},[e.id]);let N=async()=>{if((await u.default.fire({title:"Are you sure?",text:"This will permanently delete this report!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"})).isConfirmed)try{let a=localStorage.getItem("token");if(!(await fetch(`${g}/report/${e.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}})).ok)throw Error("Failed to delete report");u.default.fire("Deleted!","Your report has been deleted.","success"),t.push("/dashboard")}catch(e){u.default.fire("Error",e.message||"Error deleting report","error")}};return f?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"Loading report..."})}):b||!n?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen gap-4",children:[(0,a.jsx)("p",{className:"text-destructive",children:b||"Report not found"}),(0,a.jsx)(x.default,{href:"/dashboard",children:(0,a.jsxs)(d.Button,{variant:"outline",children:[(0,a.jsx)(c,{className:"w-4 h-4 mr-2"})," Back to Dashboard"]})})]}):(0,a.jsx)("div",{className:"min-h-screen bg-gray-50/50 pb-20",children:(0,a.jsxs)("main",{className:"max-w-4xl mx-auto px-4 py-8",children:[(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsx)(x.default,{href:"/dashboard",children:(0,a.jsxs)(d.Button,{variant:"ghost",className:"pl-0 hover:bg-transparent hover:text-blue-600 transition-colors text-muted-foreground",children:[(0,a.jsx)(c,{className:"w-4 h-4 mr-2"})," Back to Dashboard"]})})}),(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)(l.Card,{className:"border-none shadow-lg bg-white overflow-hidden",children:[(0,a.jsx)("div",{className:"h-2 w-full bg-blue-600"}),(0,a.jsx)(l.CardHeader,{className:"pt-8 pb-4",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(l.CardTitle,{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[(0,a.jsx)(i.FileText,{className:"w-6 h-6 text-blue-600"}),n.title||n.filename]}),(0,a.jsxs)(l.CardDescription,{className:"mt-2 text-base",children:["Uploaded on ",new Date(n.createdAt).toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"})]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("a",{href:n.fileUrl,target:"_blank",rel:"noreferrer",children:(0,a.jsxs)(d.Button,{variant:"outline",className:"border-gray-200",children:[(0,a.jsx)(o,{className:"w-4 h-4 mr-2"})," Original File"]})}),(0,a.jsxs)(d.Button,{variant:"destructive",onClick:N,className:"bg-red-50 text-red-600 hover:bg-red-100 hover:text-red-700 border-none shadow-none",children:[(0,a.jsx)(h.Trash2,{className:"w-4 h-4 mr-2"})," Delete"]})]})]})})]}),(0,a.jsxs)("div",{className:"grid gap-8 md:grid-cols-[2fr,1fr]",children:[(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("section",{children:[(0,a.jsxs)("h3",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-1.5 h-6 bg-blue-600 rounded-full"}),"Executive Summary"]}),(0,a.jsx)(l.Card,{className:"border-none shadow-sm bg-white",children:(0,a.jsx)(l.CardContent,{className:"p-6 text-lg leading-relaxed text-gray-700",children:n.summary||"No summary available."})})]}),(0,a.jsxs)("section",{children:[(0,a.jsxs)("h3",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-1.5 h-6 bg-emerald-600 rounded-full"}),"Detailed Explanation"]}),(0,a.jsx)(l.Card,{className:"border-none shadow-sm bg-white",children:(0,a.jsxs)(l.CardContent,{className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900 mb-2 text-sm uppercase tracking-wider text-muted-foreground",children:"English"}),(0,a.jsx)("p",{className:"text-gray-700 leading-relaxed",children:n.explanation_en||"No explanation available."})]}),n.explanation_ro&&(0,a.jsxs)("div",{className:"pt-6 border-t border-gray-100",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900 mb-2 text-sm uppercase tracking-wider text-muted-foreground",children:"Roman Urdu"}),(0,a.jsxs)("p",{className:"text-gray-700 leading-relaxed font-medium italic",children:['"',n.explanation_ro,'"']})]})]})})]})]}),(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)(l.Card,{className:"border-none shadow-md bg-white sticky top-8",children:[(0,a.jsxs)(l.CardHeader,{className:"bg-blue-50/50 pb-4 border-b border-blue-100",children:[(0,a.jsxs)(l.CardTitle,{className:"text-lg text-blue-900 flex items-center gap-2",children:[(0,a.jsx)(m,{className:"w-5 h-5"}),"Doctor Questions"]}),(0,a.jsx)(l.CardDescription,{className:"text-blue-700/80",children:"Ask these at your next visit"})]}),(0,a.jsx)(l.CardContent,{className:"p-0",children:n.suggested_questions&&n.suggested_questions.length>0?(0,a.jsx)("ul",{className:"divide-y divide-gray-100",children:n.suggested_questions.map((e,t)=>(0,a.jsx)("li",{className:"p-4 hover:bg-gray-50 transition-colors text-sm text-gray-700 leading-snug",children:e},t))}):(0,a.jsx)("div",{className:"p-6 text-center text-muted-foreground text-sm",children:"No specific questions generated."})})]})})]})]})]})})}],67824)}]);