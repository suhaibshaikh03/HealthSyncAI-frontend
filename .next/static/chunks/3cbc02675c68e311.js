(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,70065,e=>{"use strict";var r=e.i(43476),t=e.i(47163);function a({className:e,...a}){return(0,r.jsx)("div",{"data-slot":"card",className:(0,t.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...a})}function s({className:e,...a}){return(0,r.jsx)("div",{"data-slot":"card-header",className:(0,t.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...a})}function l({className:e,...a}){return(0,r.jsx)("div",{"data-slot":"card-title",className:(0,t.cn)("leading-none font-semibold",e),...a})}function o({className:e,...a}){return(0,r.jsx)("div",{"data-slot":"card-description",className:(0,t.cn)("text-muted-foreground text-sm",e),...a})}function i({className:e,...a}){return(0,r.jsx)("div",{"data-slot":"card-content",className:(0,t.cn)("px-6",e),...a})}e.s(["Card",()=>a,"CardContent",()=>i,"CardDescription",()=>o,"CardHeader",()=>s,"CardTitle",()=>l])},78928,e=>{"use strict";var r=e.i(47167),t=e.i(43476),a=e.i(71645),s=e.i(18566),l=e.i(67881),o=e.i(70065);let i=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var d=e.i(78583),n=e.i(21218),c=e.i(22016),m=e.i(38325);let u=r.default.env.NEXT_PUBLIC_API_URL||"https://b22slwwqfmushdcf7t4cnkxt240xknbz.lambda-url.eu-north-1.on.aws";function h(){let e=(0,s.useRouter)(),[r,h]=(0,a.useState)(null),[x,p]=(0,a.useState)(!0),[g,f]=(0,a.useState)([]),j=(0,a.useRef)(null);(0,a.useEffect)(()=>{(async()=>{try{let r=localStorage.getItem("token"),t=await fetch(`${u}/profile/getuser`,{method:"GET",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}});if(!t.ok)return void e.push("/");let a=await t.json();h(a.user);let s=await fetch(`${u}/report/myreports`,{method:"GET",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}});if(console.log(s),s.ok){let e=await s.json();console.log(e.reports[0],"ii"),f(e.reports||[])}}catch(r){console.error(r),e.push("/")}finally{p(!1)}})()},[e]);let b=()=>{j.current?.click()},w=async e=>{let r=e.target.files?.[0];if(!r)return m.default.fire("Error","No file selected","error");if(!["application/pdf","image/png","image/jpeg"].includes(r.type))return m.default.fire("Error","Only PDF, PNG, JPG allowed!","error");let t=new FormData;t.append("file",r);try{let e=localStorage.getItem("token"),r=await fetch(`${u}/report/upload`,{method:"POST",headers:{Authorization:`Bearer ${e}`},body:t}),a=await r.json();if(!r.ok)throw Error(a.error||a.message||"Upload failed");m.default.fire("Success","Report uploaded successfully!","success"),f(e=>[a.report,...e])}catch(e){console.error(e),m.default.fire("Error",e.message||"Error uploading file","error")}};return x?(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:"Loading..."}):(0,t.jsx)("div",{className:"min-h-screen bg-gray-50/50",children:(0,t.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold tracking-tight text-gray-900",children:["Welcome back, ",r?.firstname?r.firstname:"User"]}),(0,t.jsx)("p",{className:"text-muted-foreground mt-1 text-lg",children:"Here's an overview of your health insights today."})]}),(0,t.jsxs)(l.Button,{onClick:b,className:"shadow-lg hover:shadow-xl transition-all duration-300 bg-black text-white px-6 py-6 text-md rounded-full",children:[(0,t.jsx)(i,{className:"w-5 h-5 mr-2"})," Upload New Report"]}),(0,t.jsx)("input",{ref:j,type:"file",accept:".pdf,.png,.jpg,.jpeg",className:"hidden",onChange:w})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-12",children:[(0,t.jsxs)(o.Card,{className:"group cursor-pointer border-none shadow-md hover:shadow-xl transition-all duration-300 bg-white overflow-hidden relative",onClick:b,children:[(0,t.jsx)("div",{className:"absolute top-0 left-0 w-1 h-full bg-blue-500 group-hover:h-full transition-all duration-300"}),(0,t.jsxs)(o.CardHeader,{children:[(0,t.jsxs)(o.CardTitle,{className:"flex items-center gap-3 text-xl",children:[(0,t.jsx)("div",{className:"p-3 bg-blue-50 rounded-lg group-hover:bg-blue-100 transition-colors",children:(0,t.jsx)(d.FileText,{className:"w-6 h-6 text-blue-600"})}),"Detailed Analysis"]}),(0,t.jsx)(o.CardDescription,{className:"text-base pt-2",children:"Upload your medical reports (PDF/Image) to get instant AI-powered summaries and insights in English & Urdu."})]})]}),(0,t.jsxs)(o.Card,{className:"group cursor-pointer border-none shadow-md hover:shadow-xl transition-all duration-300 bg-white overflow-hidden relative",children:[(0,t.jsx)("div",{className:"absolute top-0 left-0 w-1 h-full bg-emerald-500 group-hover:h-full transition-all duration-300"}),(0,t.jsxs)(o.CardHeader,{children:[(0,t.jsxs)(o.CardTitle,{className:"flex items-center gap-3 text-xl",children:[(0,t.jsx)("div",{className:"p-3 bg-emerald-50 rounded-lg group-hover:bg-emerald-100 transition-colors",children:(0,t.jsx)(n.Activity,{className:"w-6 h-6 text-emerald-600"})}),"Track Vitals"]}),(0,t.jsx)(o.CardDescription,{className:"text-base pt-2",children:"Monitor your vital signs like Blood Pressure, Sugar levels, and BMI over time. (Coming Soon)"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsx)("h2",{className:"text-2xl font-semibold text-gray-900",children:"Recent Reports"})}),(0,t.jsx)(o.Card,{className:"border-none shadow-sm bg-white",children:(0,t.jsx)(o.CardContent,{className:"p-6",children:0===g.length?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[(0,t.jsx)("div",{className:"bg-gray-50 p-4 rounded-full mb-4",children:(0,t.jsx)(d.FileText,{className:"w-8 h-8 text-gray-400"})}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"No reports found"}),(0,t.jsx)("p",{className:"text-gray-500 mt-1 max-w-sm mx-auto",children:"Start via uploading your first medical report to see the magic happen."}),(0,t.jsx)(l.Button,{variant:"outline",onClick:b,className:"mt-6",children:"Upload First Report"})]}):(0,t.jsx)("div",{className:"grid gap-4",children:g.map(e=>(0,t.jsxs)("div",{className:"group flex flex-col md:flex-row items-start md:items-center justify-between p-4 rounded-xl border border-gray-100 hover:border-gray-200 hover:shadow-md transition-all duration-200 bg-gray-50/50 hover:bg-white",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-4 md:mb-0",children:[(0,t.jsx)("div",{className:"p-3 bg-white rounded-lg border border-gray-100 shadow-sm",children:(0,t.jsx)(d.FileText,{className:"w-6 h-6 text-blue-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold text-gray-900 group-hover:text-blue-600 transition-colors",children:e.filename}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Uploaded recently"})]})]}),(0,t.jsx)("div",{className:"flex w-full md:w-auto gap-3",children:(0,t.jsx)(c.default,{href:`/dashboard/report-page/${e._id}`,className:"w-full md:w-auto",children:(0,t.jsx)(l.Button,{variant:"secondary",className:"w-full md:w-auto bg-white hover:bg-gray-50 border border-gray-200",children:"View Analysis"})})})]},e._id))})})})]})]})})}e.s(["default",()=>h],78928)}]);