(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,70065,e=>{"use strict";var t=e.i(43476),a=e.i(47163);function r({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...r})}function s({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...r})}function i({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",e),...r})}function o({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",e),...r})}function n({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",e),...r})}e.s(["Card",()=>r,"CardContent",()=>n,"CardDescription",()=>o,"CardHeader",()=>s,"CardTitle",()=>i])},27612,e=>{"use strict";let t=(0,e.i(75254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>t],27612)},64692,e=>{"use strict";var t=e.i(47167),a=e.i(43476),r=e.i(71645),s=e.i(67881),i=e.i(70065),o=e.i(27612),n=e.i(38325);let d=t.default.env.NEXT_PUBLIC_API_URL;function l(){let[e,t]=(0,r.useState)([]),[l,c]=(0,r.useState)(!0),[u,h]=(0,r.useState)({bp:"",sugar:"",weight:"",note:""}),g=async()=>{try{let e=await fetch(`${d}/vitals/myvitals`,{credentials:"include"});if(!e.ok)throw Error("Failed to fetch vitals");let a=await e.json();t(a.vitals||[])}catch(e){console.error(e)}finally{c(!1)}};(0,r.useEffect)(()=>{g()},[]);let p=async()=>{if(!u.bp&&!u.sugar&&!u.weight)return n.default.fire("Error","At least one vital is required","error");try{let a=await fetch(`${d}/vitals/add`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)}),r=await a.json();if(!a.ok)throw Error(r.message||"Failed to add vital");t([r.vitals,...e]),h({bp:"",sugar:"",weight:"",note:""})}catch(e){console.error(e),n.default.fire("Error",e.message||"Error adding vital","error")}},f=async a=>{if((await n.default.fire({title:"Are you sure?",text:"This action cannot be undone!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"})).isConfirmed)try{let r=await fetch(`${d}/vitals/${a}`,{method:"DELETE",credentials:"include"}),s=await r.json();if(!r.ok)throw Error(s.message||"Failed to delete");t(e.filter(e=>e._id!==a))}catch(e){console.error(e),n.default.fire("Error",e.message||"Error deleting","error")}};return l?(0,a.jsx)("p",{className:"text-center py-8",children:"Loading vitals..."}):(0,a.jsxs)("main",{className:"max-w-3xl mx-auto px-4 py-8 space-y-4",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Your Vitals"}),(0,a.jsxs)(i.Card,{children:[(0,a.jsxs)(i.CardHeader,{children:[(0,a.jsx)(i.CardTitle,{children:"Add New Vital"}),(0,a.jsx)(i.CardDescription,{children:"Track your BP, Sugar, Weight, or Notes"})]}),(0,a.jsxs)(i.CardContent,{className:"space-y-2",children:[(0,a.jsx)("input",{type:"text",placeholder:"BP (e.g., 120/80)",className:"w-full border p-2 rounded",value:u.bp,onChange:e=>h({...u,bp:e.target.value})}),(0,a.jsx)("input",{type:"text",placeholder:"Sugar (mg/dL)",className:"w-full border p-2 rounded",value:u.sugar,onChange:e=>h({...u,sugar:e.target.value})}),(0,a.jsx)("input",{type:"text",placeholder:"Weight (kg)",className:"w-full border p-2 rounded",value:u.weight,onChange:e=>h({...u,weight:e.target.value})}),(0,a.jsx)("input",{type:"text",placeholder:"Note (optional)",className:"w-full border p-2 rounded",value:u.note,onChange:e=>h({...u,note:e.target.value})}),(0,a.jsx)(s.Button,{className:"w-full",onClick:p,children:"Add Vitals"})]})]}),0===e.length?(0,a.jsx)("p",{className:"text-muted-foreground",children:"No vitals recorded yet."}):e.map(e=>(0,a.jsxs)(i.Card,{children:[(0,a.jsxs)(i.CardHeader,{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(i.CardTitle,{children:new Date(e.date).toLocaleDateString()}),(0,a.jsxs)(i.CardDescription,{children:[e.bp&&`BP: ${e.bp} | `,e.sugar&&`Sugar: ${e.sugar} | `,e.weight&&`Weight: ${e.weight}`]})]}),(0,a.jsx)(s.Button,{variant:"destructive",size:"sm",onClick:()=>f(e._id),children:(0,a.jsx)(o.Trash2,{className:"w-4 h-4"})})]}),e.note&&(0,a.jsx)(i.CardContent,{children:e.note})]},e._id))]})}e.s(["default",()=>l])}]);